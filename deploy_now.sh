#!/bin/bash

# Railway Deploy Script
# –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ Railway —á–µ—Ä–µ–∑ GitHub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ø–ª–æ–π –Ω–∞ Railway"
echo "================================"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub
git_status=$(git status --porcelain)
if [ ! -z "$git_status" ]; then
    echo "‚ö†Ô∏è  –ï—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ö–æ–º–º–∏—Ç–∏–º..."
    git add -A
    git commit -m "Auto-deploy: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –¥–ª—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏"
    git push origin main
else
    echo "‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –≤ GitHub"
fi

echo ""
echo "üì¶ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –∏–∑ GitHub"
echo "==========================================="
echo ""
echo "Railway –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main –≤–µ—Ç–∫—É."
echo ""
echo "üîó –°—Å—ã–ª–∫–∏:"
echo "- –ü—Ä–æ–µ–∫—Ç Railway: https://railway.app/project/6a08cc81-8944-4807-ab6f-79b06a7840df"
echo "- GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/Timosan61/artemassyst"
echo ""
echo "üìä –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å:"
echo "1. ‚úÖ –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub"
echo "2. üîÑ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è"
echo "3. üèóÔ∏è Railway —Å–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑"
echo "4. üöÄ Railway –¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é"
echo ""
echo "‚è±Ô∏è –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç 3-5 –º–∏–Ω—É—Ç"
echo ""
echo "üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞ –≤ Telegram: @artem_integrator_bot"
echo ""
echo "üí° –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:"
echo "   railway logs --follow"
echo ""
echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω!"